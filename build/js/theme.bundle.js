(()=>{class e{constructor(){this.cacheDOM(),this.bindEvents(),this.updateThemeAndIcon()}static{const t=sessionStorage.getItem("theme");document.documentElement.dataset.theme=t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{sessionStorage.getItem("theme")||(document.documentElement.dataset.theme=t.matches?"dark":"light",e.#e())})}static ICONS={light:"./img/svgsprite/sprite.symbol.svg#icon-moon",dark:"./img/svgsprite/sprite.symbol.svg#icon-sun"};static#t(){document.documentElement.dataset.theme="light"===document.documentElement.dataset.theme?"dark":"light",sessionStorage.setItem("theme",document.documentElement.dataset.theme),e.#e()}static#n=new Set;static#e(){e.#n.forEach(e=>e.updateThemeAndIcon())}cacheDOM(){this.themeBtn=document.querySelector(".navigation__theme-btn"),this.themeIcon=document.querySelector(".navigation__theme-icon use")}bindEvents(){e.#n.add(this),this.themeBtn.addEventListener("click",()=>{e.#t()})}updateThemeAndIcon(){const t=document.documentElement.dataset.theme;this.themeIcon.setAttribute("href",e.ICONS[t])}}new e})();